# ğŸ“š Projeto Alura Criando uma API Rest com Express e MongoDB

<div align="center">

  **Estruturando o Conhecimento: Uma Arquitetura de API para o Mundo LiterÃ¡rio**

  [![CI](https://github.com/ESousa97/3266-express-mongo/actions/workflows/ci.yml/badge.svg)](https://github.com/ESousa97/3266-express-mongo/actions/workflows/ci.yml)
  [![CodeQL](https://github.com/ESousa97/3266-express-mongo/actions/workflows/codeql.yml/badge.svg)](https://github.com/ESousa97/3266-express-mongo/actions/workflows/codeql.yml)
  [![codecov](https://codecov.io/gh/ESousa97/3266-express-mongo/branch/main/graph/badge.svg)](https://codecov.io/gh/ESousa97/3266-express-mongo)
  [![GitHub last commit](https://img.shields.io/github/last-commit/ESousa97/3266-express-mongo?style=for-the-badge&color=blue)](https://github.com/ESousa97/3266-express-mongo)
  [![GitHub top language](https://img.shields.io/github/languages/top/ESousa97/3266-express-mongo?style=for-the-badge&color=green)](https://github.com/ESousa97/3266-express-mongo)
  [![GitHub repo size](https://img.shields.io/github/repo-size/ESousa97/3266-express-mongo?style=for-the-badge&color=orange)](https://github.com/ESousa97/3266-express-mongo)
  [![GitHub contributors](https://img.shields.io/github/contributors/ESousa97/3266-express-mongo?style=for-the-badge&color=purple)](https://github.com/ESousa97/3266-express-mongo)

</div>

---

## ğŸ¯ **VisÃ£o Geral**

> Uma API RESTful robusta e escalÃ¡vel desenvolvida em **Node.js** com **Express.js** e **MongoDB**, projetada para gerenciar uma livraria digital completa. Este projeto demonstra as melhores prÃ¡ticas de arquitetura backend, implementando padrÃµes modernos de desenvolvimento e servindo como referÃªncia para sistemas de gerenciamento de conteÃºdo.

### ğŸŒŸ **Destaques Principais**

- ğŸ—ï¸ **Arquitetura em Camadas** - SeparaÃ§Ã£o clara de responsabilidades
- ğŸ”„ **API RESTful Completa** - OperaÃ§Ãµes CRUD para Livros e Autores
- ğŸ¯ **Busca Especializada** - Filtros avanÃ§ados por editora
- ğŸ“Š **MongoDB + Mongoose** - PersistÃªncia robusta com validaÃ§Ã£o
- ğŸš€ **Pronto para ProduÃ§Ã£o** - ConfiguraÃ§Ã£o para deploy e escalabilidade

---

## ğŸ“‹ **Ãndice**

<details>
<summary>ğŸ” Clique para expandir</summary>

- [ğŸ¯ VisÃ£o Geral](#-visÃ£o-geral)
- [ğŸ”§ Tech Stack](#-tech-stack)
- [ğŸ—ï¸ Arquitetura do Sistema](#ï¸-arquitetura-do-sistema)
- [âœ¨ Funcionalidades](#-funcionalidades)
- [ğŸ“ Estrutura do Projeto](#-estrutura-do-projeto)
- [âš™ï¸ InstalaÃ§Ã£o e ConfiguraÃ§Ã£o](#ï¸-instalaÃ§Ã£o-e-configuraÃ§Ã£o)
- [ğŸš€ Como Usar](#-como-usar)
- [ğŸ“– DocumentaÃ§Ã£o da API](#-documentaÃ§Ã£o-da-api)
- [ğŸ§ª Testes](#-testes)
- [ğŸŒ Deploy](#-deploy)
- [ğŸ¤ Contribuindo](#-contribuindo)
- [ğŸ“„ LicenÃ§a](#-licenÃ§a)
- [ğŸ‘¥ Equipe](#-equipe)

</details>

---

## ğŸ”§ **Tech Stack**

<div align="center">

| Categoria | Tecnologia | DescriÃ§Ã£o |
|-----------|------------|-----------|
| **Runtime** | ![Node.js](https://img.shields.io/badge/Node.js-339933?style=flat&logo=node.js&logoColor=white) | Plataforma JavaScript para backend |
| **Framework** | ![Express](https://img.shields.io/badge/Express-000000?style=flat&logo=express&logoColor=white) | Framework web minimalista |
| **Database** | ![MongoDB](https://img.shields.io/badge/MongoDB-47A248?style=flat&logo=mongodb&logoColor=white) | Banco de dados NoSQL |
| **ODM** | ![Mongoose](https://img.shields.io/badge/Mongoose-880000?style=flat&logo=mongoose&logoColor=white) | Modelagem de dados para MongoDB |
| **Dev Tools** | ![Nodemon](https://img.shields.io/badge/Nodemon-76D04B?style=flat&logo=nodemon&logoColor=white) | Auto-reload para desenvolvimento |

</div>

---

## ğŸ—ï¸ **Arquitetura do Sistema**

```mermaid
graph TD
    subgraph "ğŸŒ Cliente"
        A[ğŸ“± Frontend / ğŸ”§ Postman]
    end

    subgraph "ğŸ–¥ï¸ Servidor Node.js"
        B[ğŸš€ server.js] --> C{ğŸ›£ï¸ Routes Layer}
        C --> D[ğŸ® Controllers Layer]
        D --> E[ğŸ“¦ Models Layer]
        E --> F[(ğŸ—„ï¸ MongoDB)]
    end

    A -.->|HTTP Request| B
    D -.->|JSON Response| A

    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style C fill:#e8f5e8
    style D fill:#fff3e0
    style E fill:#fce4ec
    style F fill:#f1f8e9
```

### ğŸ”„ **Fluxo de Dados**

1. **ğŸ“¡ RequisiÃ§Ã£o** â†’ Cliente envia requisiÃ§Ã£o HTTP
2. **ğŸ›£ï¸ Roteamento** â†’ Express roteia para o controlador apropriado
3. **ğŸ® Processamento** â†’ Controlador executa lÃ³gica de negÃ³cio
4. **ğŸ“¦ PersistÃªncia** â†’ Modelo interage com MongoDB via Mongoose
5. **ğŸ“¤ Resposta** â†’ Dados retornados em formato JSON

---

## âœ¨ **Funcionalidades**

<div align="center">

| ğŸ“š **Livros** | ğŸ‘¨â€ğŸ’¼ **Autores** | ğŸ” **Busca** |
|---------------|------------------|---------------|
| âœ… Criar livro | âœ… Criar autor | ğŸ¢ Por editora |
| ğŸ“– Listar todos | ğŸ‘¥ Listar todos | ğŸ¯ Filtros avanÃ§ados |
| ğŸ” Buscar por ID | ğŸ” Buscar por ID | ğŸ“Š Resultados paginados |
| âœï¸ Atualizar dados | âœï¸ Atualizar dados | - |
| ğŸ—‘ï¸ Remover livro | ğŸ—‘ï¸ Remover autor | - |

</div>

### ğŸ¯ **Recursos Especiais**

- ğŸ”— **Relacionamento Autor-Livro** - Embedding otimizado para performance
- ğŸ›ï¸ **ValidaÃ§Ã£o AutomÃ¡tica** - Schemas Mongoose com validaÃ§Ã£o
- ğŸŒ **ConfiguraÃ§Ã£o FlexÃ­vel** - VariÃ¡veis de ambiente para diferentes ambientes
- ğŸ“ˆ **Escalabilidade** - Arquitetura preparada para crescimento

---

## ğŸ“ **Estrutura do Projeto**

```
ğŸ“¦ 3266-express-mongo/
â”œâ”€â”€ ğŸ“„ .gitignore
â”œâ”€â”€ ğŸ“‹ package.json
â”œâ”€â”€ ğŸš€ server.js
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ¯ app.js
â”‚   â”œâ”€â”€ âš™ï¸ config/
â”‚   â”‚   â””â”€â”€ ğŸ”Œ dbConnect.js
â”‚   â”œâ”€â”€ ğŸ® controllers/
â”‚   â”‚   â”œâ”€â”€ ğŸ‘¨â€ğŸ’¼ autorController.js
â”‚   â”‚   â””â”€â”€ ğŸ“š livroController.js
â”‚   â”œâ”€â”€ ğŸ“¦ models/
â”‚   â”‚   â”œâ”€â”€ ğŸ‘¤ Autor.js
â”‚   â”‚   â””â”€â”€ ğŸ“– Livros.js
â”‚   â””â”€â”€ ğŸ›£ï¸ routes/
â”‚       â”œâ”€â”€ ğŸ‘¥ autoresRoutes.js
â”‚       â”œâ”€â”€ ğŸ  index.js
â”‚       â””â”€â”€ ğŸ“š livrosRoutes.js
â””â”€â”€ ğŸ” .env
```

---

## âš™ï¸ **InstalaÃ§Ã£o e ConfiguraÃ§Ã£o**

### ğŸ“‹ **PrÃ©-requisitos**

- ![Node.js](https://img.shields.io/badge/Node.js-v16+-339933?style=flat&logo=node.js&logoColor=white)
- ![npm](https://img.shields.io/badge/npm-latest-CB3837?style=flat&logo=npm&logoColor=white)
- ![MongoDB](https://img.shields.io/badge/MongoDB-local%20or%20cloud-47A248?style=flat&logo=mongodb&logoColor=white)
- ![Git](https://img.shields.io/badge/Git-latest-F05032?style=flat&logo=git&logoColor=white)

### ğŸš€ **InstalaÃ§Ã£o RÃ¡pida**

```bash
# 1ï¸âƒ£ Clone o repositÃ³rio
git clone https://github.com/ESousa97/3266-express-mongo.git
cd 3266-express-mongo

# 2ï¸âƒ£ Instale as dependÃªncias
npm install

# 3ï¸âƒ£ Configure as variÃ¡veis de ambiente
cp .env.example .env
# Edite o arquivo .env com suas configuraÃ§Ãµes

# 4ï¸âƒ£ Inicie o servidor
npm run dev
```

### ğŸ”§ **ConfiguraÃ§Ã£o do Ambiente**

Crie um arquivo `.env` na raiz do projeto:

```env
# ğŸ—„ï¸ ConfiguraÃ§Ã£o do Banco de Dados
DB_CONNECTION_STRING=mongodb+srv://<user>:<password>@<cluster>/<database>

# ğŸŒ ConfiguraÃ§Ã£o do Servidor
PORT=3000
NODE_ENV=development

# ğŸ” ConfiguraÃ§Ãµes de SeguranÃ§a (opcional)
JWT_SECRET=your_jwt_secret_here
```

---

## ğŸš€ **Como Usar**

### ğŸ“ **Exemplo: Cadastrar Autor**

```bash
curl -X POST http://localhost:3000/autores \
  -H "Content-Type: application/json" \
  -d '{
    "nome": "Frank Herbert",
    "nacionalidade": "Americano"
  }'
```

### ğŸ“š **Exemplo: Cadastrar Livro**

```bash
curl -X POST http://localhost:3000/livros \
  -H "Content-Type: application/json" \
  -d '{
    "titulo": "Duna",
    "editora": "Aleph",
    "preco": 89.90,
    "paginas": 680,
    "autor": "ObjectId_do_Autor_Aqui"
  }'
```

### ğŸ” **Exemplo: Buscar por Editora**

```bash
curl "http://localhost:3000/livros/busca?editora=Aleph"
```

---

## ğŸ“– **DocumentaÃ§Ã£o da API**

<details>
<summary>ğŸ‘¨â€ğŸ’¼ <strong>Endpoints de Autores</strong></summary>

| MÃ©todo | Endpoint | DescriÃ§Ã£o | Status |
|--------|----------|-----------|--------|
| `GET` | `/autores` | ğŸ“‹ Lista todos os autores | âœ… |
| `GET` | `/autores/:id` | ğŸ” Busca autor por ID | âœ… |
| `POST` | `/autores` | â• Cria novo autor | âœ… |
| `PUT` | `/autores/:id` | âœï¸ Atualiza autor | âœ… |
| `DELETE` | `/autores/:id` | ğŸ—‘ï¸ Remove autor | âœ… |

</details>

<details>
<summary>ğŸ“š <strong>Endpoints de Livros</strong></summary>

| MÃ©todo | Endpoint | DescriÃ§Ã£o | Status |
|--------|----------|-----------|--------|
| `GET` | `/livros` | ğŸ“‹ Lista todos os livros | âœ… |
| `GET` | `/livros/:id` | ğŸ” Busca livro por ID | âœ… |
| `POST` | `/livros` | â• Cria novo livro | âœ… |
| `PUT` | `/livros/:id` | âœï¸ Atualiza livro | âœ… |
| `DELETE` | `/livros/:id` | ğŸ—‘ï¸ Remove livro | âœ… |
| `GET` | `/livros/busca?editora=X` | ğŸ” Busca por editora | âœ… |

</details>

### ğŸ“Š **CÃ³digos de Resposta**

| CÃ³digo | Status | DescriÃ§Ã£o |
|--------|--------|-----------|
| `200` | âœ… OK | RequisiÃ§Ã£o bem-sucedida |
| `201` | â• Created | Recurso criado com sucesso |
| `400` | âŒ Bad Request | Dados invÃ¡lidos |
| `404` | ğŸ” Not Found | Recurso nÃ£o encontrado |
| `500` | ğŸ’¥ Internal Error | Erro interno do servidor |

---

## ğŸ§ª **Testes**

### ğŸ”§ **ConfiguraÃ§Ã£o de Testes**

```bash
# Instalar dependÃªncias de teste
npm install --save-dev jest supertest

# Executar testes
npm test

# Executar com cobertura
npm run test:coverage
```

### ğŸ“Š **Exemplo de Teste**

```javascript
// tests/livros.test.js
const request = require('supertest');
const app = require('../src/app');

describe('ğŸ“š Livros API', () => {
  test('âœ… Deve listar todos os livros', async () => {
    const response = await request(app)
      .get('/livros')
      .expect(200);
    
    expect(response.body).toHaveProperty('livros');
  });
});
```

---

## ğŸŒ **Deploy**

### ğŸ³ **Docker**

```dockerfile
FROM node:16-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
EXPOSE 3000
CMD ["npm", "start"]
```

### â˜ï¸ **Plataformas Suportadas**

- ğŸŸ¢ **Heroku** - Deploy automÃ¡tico via Git
- ğŸ”µ **Vercel** - Serverless functions
- ğŸŸ  **AWS EC2** - InstÃ¢ncias dedicadas
- ğŸ”´ **DigitalOcean** - Droplets otimizados

---

## ğŸ¤ **Contribuindo**

ContribuiÃ§Ãµes sÃ£o muito bem-vindas! Siga estes passos:

```bash
# 1ï¸âƒ£ Fork o projeto
# 2ï¸âƒ£ Crie sua branch
git checkout -b feature/minha-feature

# 3ï¸âƒ£ Commit suas mudanÃ§as
git commit -m "âœ¨ Adiciona nova funcionalidade"

# 4ï¸âƒ£ Push para a branch
git push origin feature/minha-feature

# 5ï¸âƒ£ Abra um Pull Request
```

### ğŸ“‹ **Diretrizes**

- âœ… Siga os padrÃµes de cÃ³digo existentes
- ğŸ§ª Adicione testes para novas funcionalidades
- ğŸ“ Atualize a documentaÃ§Ã£o quando necessÃ¡rio
- ğŸ› Reporte bugs atravÃ©s das [Issues](https://github.com/ESousa97/3266-express-mongo/issues)

---

## â“ **FAQ**

<details>
<summary><strong>ğŸ”Œ Erro de conexÃ£o com MongoDB?</strong></summary>

Verifique:
- String de conexÃ£o no arquivo `.env`
- PermissÃµes de IP no MongoDB Atlas
- Credenciais de usuÃ¡rio e senha

</details>

<details>
<summary><strong>ğŸ“Š Por que dados do autor sÃ£o duplicados?</strong></summary>

Ã‰ uma decisÃ£o de modelagem (embedding) para otimizar operaÃ§Ãµes de leitura, comum em bancos NoSQL.

</details>

<details>
<summary><strong>ğŸš€ Como fazer deploy?</strong></summary>

O projeto Ã© stateless e pode ser deployado em qualquer plataforma que suporte Node.js. Configure as variÃ¡veis de ambiente adequadamente.

</details>

---

## ğŸ“„ **LicenÃ§a**

Este projeto estÃ¡ licenciado sob a **LicenÃ§a ISC** - veja o arquivo [LICENSE](LICENSE) para detalhes.

---

## ğŸ‘¥ **Equipe**

<div align="center">

### ğŸ† **Desenvolvedor Principal**

<img src="https://github.com/ESousa97.png" width="100" height="100" style="border-radius: 50%;">

**JosÃ© Enoque Sousa**

[![GitHub](https://img.shields.io/badge/GitHub-ESousa97-181717?style=flat&logo=github)](https://github.com/ESousa97)
[![LinkedIn](https://img.shields.io/badge/LinkedIn-Enoque%20Sousa-0A66C2?style=flat&logo=linkedin)](https://www.linkedin.com/in/enoque-sousa-bb89aa168/)

</div>

---

## ğŸ“ **Suporte**

<div align="center">

ğŸ› **Encontrou um bug?** [Abra uma Issue](https://github.com/ESousa97/3266-express-mongo/issues)

ğŸ’¡ **Tem uma sugestÃ£o?** [Inicie uma Discussion](https://github.com/ESousa97/3266-express-mongo/discussions)

ğŸ“§ **Precisa de ajuda?** Entre em contato via LinkedIn

</div>

---

<div align="center">

**â­ Se este projeto foi Ãºtil, deixe uma estrela!**

*Criado com â¤ï¸ por [JosÃ© Enoque Sousa](https://github.com/ESousa97)*

</div>


> âœ¨ **Criado em:** 9 de jun. de 2024 Ã s 17:35
